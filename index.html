<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>نيرا - منصة البحث عن وظائف في سوريا</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://accounts.google.com/gsi/client" async defer></script>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/ar_AR/sdk.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&amp;family=Poppins:wght@400;500;600&amp;display=swap" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
        :root {
            --primary: #4F46E5;
            --secondary: #10B981;
        }
        body[dir="rtl"] {
            font-family: 'Tajawal', sans-serif;
        }
        body[dir="ltr"] {
            font-family: 'Poppins', sans-serif;
        }
        .job-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .job-source-badge {
            position: absolute;
            top: -10px;
            left: 10px;
        }
        .search-input:focus {
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.3);
        }
        .active-filter {
            background-color: #4F46E5;
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800" dir="rtl">
<!-- Navigation -->
<nav class="bg-white shadow-sm">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
<div class="flex justify-between h-16">
<div class="flex items-center">
<a class="flex-shrink-0 flex items-center" href="index.html">
<img alt="Nira Logo واضح" class="h-8 w-auto" src="wmremove-transformed (1).png" style="height: 60px; max-height: 60px;"/>
</a>
</div>
<div class="hidden md:ml-6 md:flex md:items-center md:space-x-4">
<a class="text-indigo-600 px-3 py-2 text-sm font-medium" href="index.html">الرئيسية</a>
<a class="text-gray-700 hover:text-indigo-500 px-3 py-2 text-sm font-medium" href="search.html">تصفح الوظائف</a>
<a class="text-gray-700 hover:text-indigo-500 px-3 py-2 text-sm font-medium" href="about.html">عن نيرا</a>
                <button class="ml-3 bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700" id="authButton">
                    <span id="authButtonText">تسجيل الدخول</span>
                </button>
</div>
<div class="-mr-2 flex items-center md:hidden">
<button class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" id="mobileMenuButton" type="button">
<span class="sr-only">Open main menu</span>
<i class="fas fa-bars"></i>
</button>
</div>
</div>
</div>
<!-- Mobile menu -->
<div class="hidden md:hidden" id="mobileMenu">
<div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
<a class="text-indigo-600 block px-3 py-2 text-base font-medium" href="index.html">الرئيسية</a>
<a class="text-gray-700 hover:text-indigo-500 block px-3 py-2 text-base font-medium" href="search.html">تصفح الوظائف</a>
<a class="text-gray-700 hover:text-indigo-500 block px-3 py-2 text-base font-medium" href="about.html">عن نيرا</a>
                <button class="w-full text-left bg-indigo-600 text-white px-3 py-2 rounded-md text-base font-medium hover:bg-indigo-700" id="authButtonMobile">
                    <span id="authButtonTextMobile">تسجيل الدخول</span>
                </button>
</div>
</div>
</nav>
 <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="bg-gradient-to-r from-blue-500 to-blue-600 text-white py-16">
            <div class="container mx-auto px-4 flex flex-col md:flex-row items-center">
                <div class="md:w-1/2 mb-8 md:mb-0 rtl-support">
                    <h2 class="text-3xl md:text-4xl font-bold mb-4" data-i18n="hero.title">ابحث عن الوظيفة المثالية في سوريا</h2>
                    <p class="text-lg mb-6" data-i18n="hero.subtitle">Nira يجمع لك أحدث الفرص الوظيفية من مختلف المواقع في مكان واحد</p>
                    <div class="relative w-full max-w-lg">
                        <input type="text" id="mainSearchInput" placeholder="ابحث بكلمات مفتاحية، تخصص، أو اسم شركة..." 
                               class="w-full py-3 px-4 pr-12 rounded-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-300" data-i18n="search.placeholder">
                        <button class="absolute left-3 top-3 text-blue-500" id="searchBtn">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div class="mt-4 flex flex-wrap gap-2">
                        <span class="text-xs bg-white bg-opacity-20 px-3 py-1 rounded-full" data-i18n="tags.reliefweb">ReliefWeb</span>
                        <span class="text-xs bg-white bg-opacity-20 px-3 py-1 rounded-full" data-i18n="tags.jobsy">Job.sy</span>
                        <span class="text-xs bg-white bg-opacity-20 px-3 py-1 rounded-full" data-i18n="tags.nes">شبكة شمال سوريا</span>
                    </div>
                </div>
                <div class="md:w-1/2 flex justify-center">
                    <img src="https://illustrations.popsy.co/amber/digital-nomad.svg" alt="Job Search Illustration" class="w-full max-w-md">
                </div>
            </div>
        </section>
<!-- Hero Section -->
 <!-- Job Categories -->
        <section class="py-12 bg-white">
            <div class="container mx-auto px-4">
                <div class="text-center mb-10 rtl-support">
                    <h3 class="text-2xl font-bold text-gray-800 mb-2" data-i18n="categories.title">تصفح حسب التخصص</h3>
                    <p class="text-gray-600 max-w-2xl mx-auto" data-i18n="categories.subtitle">اختر مجال عملك المفضل وابحث عن أحدث الفرص المتاحة</p>
                </div>
                
                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4" id="categoriesGrid">
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100" data-category="تكنولوجيا">
                        <div class="bg-blue-100 text-blue-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-laptop-code text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800" data-i18n="categories.it">تكنولوجيا المعلومات</h4>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100">
                        <div class="bg-green-100 text-green-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-heartbeat text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800" data-i18n="categories.health">الصحة</h4>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100">
                        <div class="bg-yellow-100 text-yellow-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-graduation-cap text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800" data-i18n="categories.education">التعليم</h4>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100">
                        <div class="bg-purple-100 text-purple-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-building text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800" data-i18n="categories.engineering">الهندسة</h4>
                    </div>
                    <div class="bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100">
                        <div class="bg-red-100 text-red-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-hands-helping text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800" data-i18n="categories.ngo">المنظمات</h4>
                    </div>
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100" id="moreCategories">
                        <div class="bg-indigo-100 text-indigo-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-ellipsis-h text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800" data-i18n="categories.more">المزيد</h4>
                    </div>
                    
                    <!-- Additional categories (hidden initially) -->
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100 hidden additional-category" data-category="محاسبة">
                        <div class="bg-teal-100 text-teal-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-calculator text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800">المحاسبة والمالية</h4>
                    </div>
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100 hidden additional-category" data-category="تسويق">
                        <div class="bg-pink-100 text-pink-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-bullhorn text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800">التسويق والمبيعات</h4>
                    </div>
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100 hidden additional-category" data-category="موارد">
                        <div class="bg-orange-100 text-orange-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-users text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800">الموارد البشرية</h4>
                    </div>
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100 hidden additional-category" data-category="قانون">
                        <div class="bg-gray-100 text-gray-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-balance-scale text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800">القانون والاستشارات</h4>
                    </div>
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100 hidden additional-category" data-category="ترجمة">
                        <div class="bg-cyan-100 text-cyan-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-language text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800">الترجمة واللغات</h4>
                    </div>
                    <div class="category-card bg-white rounded-lg shadow p-4 text-center hover:shadow-md transition cursor-pointer border border-gray-100 hidden additional-category" data-category="إعلام">
                        <div class="bg-violet-100 text-violet-500 w-14 h-14 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-newspaper text-xl"></i>
                        </div>
                        <h4 class="font-medium text-gray-800">الإعلام والصحافة</h4>
                    </div>
                </div>
            </div>
        </section>

        <!-- Featured Jobs -->
       <section id="jobs" class="py-12 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="flex justify-between items-center mb-8 rtl-support">
      <div>
        <h3 class="text-2xl font-bold text-gray-800" data-i18n="jobs.title">أحدث الوظائف</h3>
        <p class="text-gray-600" data-i18n="jobs.subtitle">اكتشف أحدث الفرص الوظيفية المتاحة اليوم</p>
      </div>
      <a class="text-blue-500 hover:text-blue-600 font-medium flex items-center" data-i18n="jobs.view_all" href="jobs.html">
        عرض الكل
        <i class="fas fa-arrow-left mr-2 rtl-mirror"></i>
      </a>
    </div>

    <!-- ✅ هذا هو السطر المطلوب -->
   <div id="dynamic-jobs"
     class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  <!-- سيُملأ تلقائيًّا -->
</div>
  </div>
</section>

<!-- How It Works -->
<div class="bg-indigo-50 rounded-xl p-8 mb-16">
<h2 class="text-2xl font-bold mb-6 text-center">كيف يعمل نيرا؟</h2>
<div class="grid grid-cols-1 md:grid-cols-3 gap-8">
<div class="text-center">
<div class="bg-white rounded-full p-4 inline-flex items-center justify-center mb-4">
<i class="fas fa-search text-indigo-600 text-2xl"></i>
</div>
<h3 class="font-bold text-lg mb-2">ابحث عن الوظائف</h3>
<p class="text-gray-700">ابحث عن الوظائف المناسبة لك بناءً على تخصصك، موقعك أو كلمة مفتاحية</p>
</div>
<div class="text-center">
<div class="bg-white rounded-full p-4 inline-flex items-center justify-center mb-4">
<i class="fas fa-briefcase text-indigo-600 text-2xl"></i>
</div>
<h3 class="font-bold text-lg mb-2">تصفح الفرص</h3>
<p class="text-gray-700">تصفح أفضل الفرص الوظيفية من مختلف المنصات في مكان واحد</p>
</div>
<div class="text-center">
<div class="bg-white rounded-full p-4 inline-flex items-center justify-center mb-4">
<i class="fas fa-external-link-alt text-indigo-600 text-2xl"></i>
</div>
<h3 class="font-bold text-lg mb-2">تقدم مباشرة</h3>
<p class="text-gray-700">تقدم مباشرة من خلال الموقع الأصلي لنشر الوظيفة</p>
</div>
</div>
</div>
</main>
</div>
<!-- Search Results Page (Hidden by default) -->
<div class="page hidden" id="searchPage">
<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
<div class="mb-8">
<div class="flex items-center mb-6">
<h1 class="text-2xl font-bold">نتائج البحث عن "مهندس"</h1>
<span class="bg-gray-200 text-gray-700 text-sm px-3 py-1 rounded-full mr-3">43 نتيجة</span>
</div>
<!-- Search Filters -->
<div class="bg-white p-4 rounded-lg shadow-sm mb-6">
<div class="flex flex-wrap gap-2">
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">الكل</button>
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">دوام كامل</button>
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">دوام جزئي</button>
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">عن بعد</button>
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">دمشق</button>
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">حلب</button>
<button class="filter-btn px-4 py-2 rounded-full text-sm border border-gray-300 hover:bg-gray-50">اخرى</button>
</div>
</div>
<!-- Search Results -->
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
<!-- Repeat this job card for each result -->
<div class="job-card bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 relative">
<!-- Include job card content similar to home page -->
</div>
</div>
<!-- Pagination -->
<div class="flex justify-center mt-8">
<nav class="inline-flex rounded-md shadow">
<a class="px-3 py-2 rounded-r-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50" href="#">
<span>السابق</span>
</a>
<a class="px-3 py-2 border-t border-b border-gray-300 bg-white text-gray-500 hover:bg-gray-50" href="#">1</a>
<a class="px-3 py-2 border-t border-b border-gray-300 bg-white text-indigo-600 font-medium hover:bg-gray-50" href="#">2</a>
<a class="px-3 py-2 border-t border-b border-gray-300 bg-white text-gray-500 hover:bg-gray-50" href="#">3</a>
<a class="px-3 py-2 rounded-l-md border border-gray-300 bg-white text-gray-500 hover:bg-gray-50" href="#">
<span>التالي</span>
</a>
</nav>
</div>
</div>
</main>
</div>
<!-- About Page (Hidden by default) -->
<div class="page hidden" id="aboutPage">
<main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
<div class="bg-white rounded-lg shadow-md overflow-hidden">
<div class="p-8">
<h1 class="text-3xl font-bold mb-6">عن نيرا</h1>
<div class="prose max-w-none">
<p class="mb-4">نيرا هو منصة ذكية للبحث عن الوظائف في سوريا، تم تطويره لتسهيل عملية البحث عن فرص العمل من خلال تجميع الوظائف من مختلف المنصات في مكان واحد.</p>
<p class="mb-4">هدفنا هو توفير الوقت والجهد على الباحثين عن عمل من خلال تقديم حل مركزي للبحث عن الوظائف من أهم المواقع مثل Relief Web و Job.sy وشبكة شمال شرق سوريا وغيرها.</p>
<h2 class="text-2xl font-bold mt-8 mb-4">مميزات نيرا</h2>
<ul class="list-disc pl-5 mb-6 space-y-2">
<li>بحث سريع وسهل عبر عدة منصات</li>
<li>واجهة مستخدم حديثة وسهلة الاستخدام</li>
<li>تصفية النتائج حسب الموقع، نوع الوظيفة، والتخصص</li>
<li>إشعارات بالوظائف الجديدة حسب تفضيلاتك</li>
<li>لا حاجة لإنشاء حساب - يمكنك الدخول باستخدام حساب غوغل فقط</li>
</ul>
<h2 class="text-2xl font-bold mt-8 mb-4">الأسئلة الشائعة</h2>
<div class="space-y-4 mb-6">
<div>
<h3 class="font-bold text-lg">هل يمكن التقديم للوظائف من خلال نيرا؟</h3>
<p class="text-gray-700">لا، نيرا يوفر معلومات عن الوظائف مع روابط للموقع الأصلي حيث يمكنك التقديم مباشرة.</p>
</div>
<div>
<h3 class="font-bold text-lg">كيف يتم تحديث الوظائف؟</h3>
<p class="text-gray-700">نقوم بتحديث قاعدة البيانات الخاصة بنا بشكل يومي للتأكد من أن جميع الوظائف حديثة ومتاحة.</p>
</div>
<div>
<h3 class="font-bold text-lg">هل توجد رسوم لاستخدام نيرا؟</h3>
<p class="text-gray-700">لا، نيرا خدمة مجانية بالكامل للباحثين عن عمل.</p>
</div>
</div>
<div class="mt-8 pt-6 border-t border-gray-200">
<h2 class="text-xl font-bold mb-4">تواصل معنا</h2>
<p class="mb-4">إذا كان لديك أي استفسار أو اقتراح، يمكنك التواصل معنا عبر:</p>
<div class="flex items-center space-x-4 space-x-reverse">
<a class="text-indigo-600 hover:text-indigo-800" href="mailto:info@nira.com">
<i class="fas fa-envelope mr-2"></i> info@nira.com
                                </a>
<a class="text-indigo-600 hover:text-indigo-800" href="#">
<i class="fab fa-facebook mr-2"></i> Facebook
                                </a>
<a class="text-indigo-600 hover:text-indigo-800" href="#">
<i class="fab fa-linkedin mr-2"></i> LinkedIn
                                </a>
</div>
</div>
</div>
</div>
</div>
</main>
</div>
<!-- Footer -->
<footer class="bg-gray-800 text-white">
<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
<div class="grid grid-cols-1 md:grid-cols-4 gap-8">
<div>
<h3 class="text-lg font-semibold mb-4">عن نيرا</h3>
<p class="text-gray-300">منصة بحث عن الوظائف في سوريا، تجمع الفرص من مختلف المنصات في مكان واحد.</p>
</div>
<div>
<h3 class="text-lg font-semibold mb-4">روابط سريعة</h3>
<ul class="space-y-2">
<li><a class="text-gray-300 hover:text-white" href="index.html">الرئيسية</a></li>
<li><a class="text-gray-300 hover:text-white" href="search.html">تصفح الوظائف</a></li>
<li><a class="text-gray-300 hover:text-white" href="about.html">عن نيرا</a></li>
</ul>
</div>
<div>
<h3 class="text-lg font-semibold mb-4">المصادر</h3>
<ul class="space-y-2">
<li><a class="text-gray-300 hover:text-white" href="https://reliefweb.int" target="_blank">Relief Web</a></li>
<li><a class="text-gray-300 hover:text-white" href="https://job.sy" target="_blank">Job.sy</a></li>
<li><a class="text-gray-300 hover:text-white" href="#">شبكة شمال شرق سوريا</a></li>
</ul>
</div>
<div>
<h3 class="text-lg font-semibold mb-4">اشترك في النشرة البريدية</h3>
<div class="flex">
<input class="px-4 py-2 w-full rounded-r-md focus:outline-none text-gray-800" placeholder="بريدك الإلكتروني" type="email"/>
<button class="bg-indigo-600 text-white px-4 py-2 rounded-l-md hover:bg-indigo-700 focus:outline-none">
<i class="fas fa-paper-plane"></i>
</button>
</div>
<div class="mt-4 flex space-x-4 space-x-reverse">
<a class="text-gray-300 hover:text-white text-xl" href="#"><i class="fab fa-facebook"></i></a>
<a class="text-gray-300 hover:text-white text-xl" href="#"><i class="fab fa-twitter"></i></a>
<a class="text-gray-300 hover:text-white text-xl" href="#"><i class="fab fa-linkedin"></i></a>
</div>
</div>
</div>
<div class="mt-12 pt-8 border-t border-gray-700 text-center text-gray-400">
<p>© 2025 نيرا. جميع الحقوق محفوظة.</p>
</div>
</div>
</footer>
<!-- Google Sign In Modal -->
<div class="fixed inset-0 z-50 hidden overflow-y-auto" id="authModal">
<div class="flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
<div aria-hidden="true" class="fixed inset-0 transition-opacity">
<div class="absolute inset-0 bg-gray-500 opacity-75"></div>
</div>
<span aria-hidden="true" class="hidden sm:inline-block sm:align-middle sm:h-screen">​</span>
<div aria-labelledby="modal-headline" aria-modal="true" class="inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full" role="dialog">
<div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
<div class="sm:flex sm:items-start">
<div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-indigo-100 sm:mx-0 sm:h-10 sm:w-10">
<i class="fas fa-user text-indigo-600"></i>
</div>
<div class="mt-3 text-center sm:mt-0 sm:mr-4 sm:text-right w-full">
<h3 class="text-2xl font-bold text-gray-900 mb-2">مرحباً بك في نيرا</h3>
<p class="text-gray-600 text-sm">سجل الدخول للوصول إلى آلاف الوظائف وحفظ المفضلة</p>

<!-- Google Sign In Button -->
<div class="mb-4">
<button class="w-full flex items-center justify-center px-6 py-4 border-2 border-gray-200 rounded-xl shadow-sm bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all duration-200 font-medium" id="googleSignIn" type="button">
<svg class="w-6 h-6 mr-3" viewBox="0 0 24 24">
<path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
<path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
<path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
<path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
</svg>
متابعة مع Google
</button>
</div>

<!-- Facebook Sign In Button -->
<div class="mb-4">
<button class="w-full flex items-center justify-center px-6 py-4 border-2 border-blue-500 rounded-xl shadow-sm bg-blue-600 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 font-medium" id="facebookSignIn" type="button">
<i class="fab fa-facebook-f text-xl mr-3"></i>
متابعة مع Facebook
</button>
</div>

<div class="text-center">
<p class="text-xs text-gray-500">
بالتسجيل، أنت توافق على 
<a href="#" class="text-indigo-600 hover:text-indigo-500">شروط الخدمة</a>
و
<a href="#" class="text-indigo-600 hover:text-indigo-500">سياسة الخصوصية</a>
</p>
</div>
</div>
</div>
</div>
<div class="bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse">
<button class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm" id="closeAuthModal" type="button">
إلغاء
</button>
</div>
</div>
</div>
</div>
<script>
  // Authentication System
  let currentUser = null;

  // Initialize Facebook SDK
  window.fbAsyncInit = function() {
    FB.init({
      appId: '1234567890123456', // Replace with your Facebook App ID
      cookie: true,
      xfbml: true,
      version: 'v18.0'
    });
  };

  // Initialize Google OAuth
  function initializeGoogleAuth() {
    google.accounts.id.initialize({
      client_id: "your-google-client-id.apps.googleusercontent.com", // Replace with your Google Client ID
      callback: handleGoogleSignIn
    });
  }

  // Handle Google Sign In
  function handleGoogleSignIn(response) {
    const credential = response.credential;
    const payload = JSON.parse(atob(credential.split('.')[1]));
    
    currentUser = {
      id: payload.sub,
      name: payload.name,
      email: payload.email,
      picture: payload.picture,
      provider: 'google'
    };
    
    saveUserSession();
    updateAuthUI();
    closeAuthModal();
    showWelcomeMessage();
  }

  // Handle Facebook Sign In
  function handleFacebookSignIn() {
    FB.login(function(response) {
      if (response.authResponse) {
        FB.api('/me', {fields: 'name,email,picture'}, function(response) {
          currentUser = {
            id: response.id,
            name: response.name,
            email: response.email,
            picture: response.picture.data.url,
            provider: 'facebook'
          };
          
          saveUserSession();
          updateAuthUI();
          closeAuthModal();
          showWelcomeMessage();
        });
      }
    }, {scope: 'email'});
  }

  // Save user session
  function saveUserSession() {
    localStorage.setItem('nira_user', JSON.stringify(currentUser));
  }

  // Load user session
  function loadUserSession() {
    const savedUser = localStorage.getItem('nira_user');
    if (savedUser) {
      currentUser = JSON.parse(savedUser);
      updateAuthUI();
    }
  }

// Update authentication UI
function updateAuthUI() {
  const authButton = document.getElementById('authButtonText');
  const authButtonMobile = document.getElementById('authButtonTextMobile');
  
  if (currentUser) {
    const firstName = currentUser.name.split(' ')[0];
    authButton.innerHTML = `
      <div class="flex items-center">
        <img src="${currentUser.picture}" alt="Profile" class="w-6 h-6 rounded-full mr-2">
        <span>مرحباً ${firstName}</span>
        <i class="fas fa-chevron-down mr-2 text-xs"></i>
      </div>
    `;
    authButtonMobile.innerHTML = `
      <div class="flex items-center">
        <img src="${currentUser.picture}" alt="Profile" class="w-6 h-6 rounded-full mr-2">
        <span>مرحباً ${firstName}</span>
        <i class="fas fa-chevron-down mr-2 text-xs"></i>
      </div>
    `;
    
    // Change button click behavior to show profile menu
    document.getElementById('authButton').onclick = showProfileMenu;
    document.getElementById('authButtonMobile').onclick = showProfileMenu;
  } else {
    authButton.textContent = 'تسجيل الدخول';
    authButtonMobile.textContent = 'تسجيل الدخول';
    
    // Change button click behavior to show login modal
    document.getElementById('authButton').onclick = showAuthModal;
    document.getElementById('authButtonMobile').onclick = showAuthModal;
  }
}

// Show profile menu
function showProfileMenu() {
  // Create profile dropdown if it doesn't exist
  let profileMenu = document.getElementById('profileMenu');
  if (!profileMenu) {
    profileMenu = document.createElement('div');
    profileMenu.id = 'profileMenu';
    profileMenu.className = 'absolute left-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50 hidden';
    profileMenu.innerHTML = `
      <div class="p-4 border-b border-gray-200">
        <div class="flex items-center">
          <img src="${currentUser.picture}" alt="Profile" class="w-12 h-12 rounded-full">
          <div class="mr-3">
            <div class="font-semibold text-gray-900">${currentUser.name}</div>
            <div class="text-sm text-gray-500">${currentUser.email}</div>
          </div>
        </div>
      </div>
      <div class="py-2">
        <a href="#" onclick="showFavorites()" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
          <i class="fas fa-heart text-red-500 mr-3"></i>
          المفضلة (${getFavoritesCount()})
        </a>
        <a href="#" onclick="showProfile()" class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
          <i class="fas fa-user mr-3"></i>
          الملف الشخصي
        </a>
        <hr class="my-2">
        <a href="#" onclick="logout()" class="flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50">
          <i class="fas fa-sign-out-alt mr-3"></i>
          تسجيل الخروج
        </a>
      </div>
    `;
    document.getElementById('authButton').parentElement.style.position = 'relative';
    document.getElementById('authButton').parentElement.appendChild(profileMenu);
  }
  
  // Toggle menu visibility
  profileMenu.classList.toggle('hidden');
  
  // Close menu when clicking outside
  setTimeout(() => {
    document.addEventListener('click', function closeMenu(e) {
      if (!profileMenu.contains(e.target) && !document.getElementById('authButton').contains(e.target)) {
        profileMenu.classList.add('hidden');
        document.removeEventListener('click', closeMenu);
      }
    });
  }, 100);
}

// Favorites system
let userFavorites = JSON.parse(localStorage.getItem('nira_favorites') || '[]');

function toggleFavorite(jobId, jobData) {
  const index = userFavorites.findIndex(fav => fav.id === jobId);
  
  if (index > -1) {
    // Remove from favorites
    userFavorites.splice(index, 1);
    showToast('تم إزالة الوظيفة من المفضلة', 'info');
  } else {
    // Add to favorites
    userFavorites.push({
      id: jobId,
      data: jobData,
      addedAt: new Date().toISOString()
    });
    showToast('تم إضافة الوظيفة للمفضلة', 'success');
  }
  
  localStorage.setItem('nira_favorites', JSON.stringify(userFavorites));
  updateFavoriteButtons();
}

function isFavorite(jobId) {
  return userFavorites.some(fav => fav.id === jobId);
}

function getFavoritesCount() {
  return userFavorites.length;
}

function updateFavoriteButtons() {
  document.querySelectorAll('.favorite-btn').forEach(btn => {
    const jobId = btn.dataset.jobId;
    const icon = btn.querySelector('i');
    
    if (isFavorite(jobId)) {
      icon.className = 'fas fa-heart text-red-500';
      btn.title = 'إزالة من المفضلة';
    } else {
      icon.className = 'far fa-heart text-gray-400';
      btn.title = 'إضافة للمفضلة';
    }
  });
}

function showFavorites() {
  // Hide profile menu
  document.getElementById('profileMenu').classList.add('hidden');
  
  // Create favorites modal
  const favoritesModal = document.createElement('div');
  favoritesModal.className = 'fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50';
  favoritesModal.innerHTML = `
    <div class="flex items-center justify-center min-h-screen p-4">
      <div class="bg-white rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto">
        <div class="p-6 border-b border-gray-200">
          <div class="flex items-center justify-between">
            <h2 class="text-2xl font-bold text-gray-900">
              <i class="fas fa-heart text-red-500 mr-2"></i>
              الوظائف المفضلة (${userFavorites.length})
            </h2>
            <button onclick="this.closest('.fixed').remove()" class="text-gray-400 hover:text-gray-600">
              <i class="fas fa-times text-xl"></i>
            </button>
          </div>
        </div>
        <div class="p-6">
          ${userFavorites.length === 0 ? 
            '<div class="text-center py-12"><i class="fas fa-heart text-gray-300 text-6xl mb-4"></i><p class="text-gray-500">لا توجد وظائف مفضلة بعد</p></div>' :
            userFavorites.map(fav => createJobCard(fav.data, true)).join('')
          }
        </div>
      </div>
    </div>
  `;
  document.body.appendChild(favoritesModal);
}

function showProfile() {
  document.getElementById('profileMenu').classList.add('hidden');
  showToast('صفحة الملف الشخصي قيد التطوير', 'info');
}

function showToast(message, type = 'info') {
  const toast = document.createElement('div');
  const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
  toast.className = `fixed top-4 right-4 ${bgColor} text-white px-6 py-3 rounded-lg shadow-lg z-50 transform transition-all duration-300`;
  toast.innerHTML = `
    <div class="flex items-center">
      <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'} mr-2"></i>
      <span>${message}</span>
    </div>
  `;
  document.body.appendChild(toast);
  
  setTimeout(() => {
    toast.style.transform = 'translateX(100%)';
    setTimeout(() => toast.remove(), 300);
  }, 3000);
}
    document.getElementById('authModal').classList.remove('hidden');
  }

  // Close authentication modal
  function closeAuthModal() {
    document.getElementById('authModal').classList.add('hidden');
  }

  // Logout function
  function logout() {
    if (currentUser && currentUser.provider === 'facebook') {
      FB.logout();
    }
    
    currentUser = null;
    localStorage.removeItem('nira_user');
    updateAuthUI();
    showLogoutMessage();
  }

  // Show welcome message
  function showWelcomeMessage() {
    const toast = document.createElement('div');
    toast.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
    toast.innerHTML = `
      <div class="flex items-center">
        <i class="fas fa-check-circle mr-2"></i>
        <span>مرحباً بك ${currentUser.name}! تم تسجيل الدخول بنجاح</span>
      </div>
    `;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.remove();
    }, 3000);
  }

  // Show logout message
  function showLogoutMessage() {
    const toast = document.createElement('div');
    toast.className = 'fixed top-4 right-4 bg-blue-500 text-white px-6 py-3 rounded-lg shadow-lg z-50';
    toast.innerHTML = `
      <div class="flex items-center">
        <i class="fas fa-sign-out-alt mr-2"></i>
        <span>تم تسجيل الخروج بنجاح</span>
      </div>
    `;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.remove();
    }, 3000);
  }

  // Check if user is logged in before allowing actions
  function requireAuth(action) {
    if (!currentUser) {
      showAuthModal();
      return false;
    }
    return true;
  }

  // Mobile menu toggle
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuButton = document.getElementById('mobileMenuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    
    if (mobileMenuButton && mobileMenu) {
      mobileMenuButton.addEventListener('click', function() {
        mobileMenu.classList.toggle('hidden');
      });
    }

    // Initialize authentication
    loadUserSession();
    initializeGoogleAuth();

    // Event listeners for auth buttons
    document.getElementById('googleSignIn').addEventListener('click', () => {
      // Show Google account selection popup
      google.accounts.id.renderButton(
        document.getElementById('googleSignIn'),
        { 
          theme: 'outline', 
          size: 'large',
          text: 'signin_with',
          locale: 'ar'
        }
      );
      // Trigger the actual sign-in flow
      google.accounts.id.prompt((notification) => {
        if (notification.isNotDisplayed() || notification.isSkippedMoment()) {
          // Fallback: show a more explicit sign-in
          window.open('https://accounts.google.com/oauth/authorize?client_id=your-client-id&redirect_uri=' + encodeURIComponent(window.location.origin) + '&scope=openid%20email%20profile&response_type=code', 'google-signin', 'width=500,height=600');
        }
      });
    });

    document.getElementById('facebookSignIn').addEventListener('click', () => {
      // Show Facebook login dialog
      if (typeof FB !== 'undefined') {
        FB.login(function(response) {
          if (response.authResponse) {
            FB.api('/me', {fields: 'name,email,picture'}, function(userInfo) {
              currentUser = {
                id: userInfo.id,
                name: userInfo.name,
                email: userInfo.email,
                picture: userInfo.picture.data.url,
                provider: 'facebook'
              };
              saveUserSession();
              updateAuthUI();
              closeAuthModal();
              showWelcomeMessage();
            });
          }
        }, {scope: 'email'});
      } else {
        // Fallback demo login for Facebook
        currentUser = {
          id: 'demo_facebook_user',
          name: 'أحمد محمد',
          email: 'ahmed@facebook.com',
          picture: 'https://via.placeholder.com/100',
          provider: 'facebook'
        };
        saveUserSession();
        updateAuthUI();
        closeAuthModal();
        showWelcomeMessage();
      }
    });
    
    document.getElementById('closeAuthModal').addEventListener('click', closeAuthModal);

    // Close modal when clicking outside
    document.getElementById('authModal').addEventListener('click', (e) => {
      if (e.target.id === 'authModal') {
        closeAuthModal();
      }
    });
  });

  // Load jobs and add authentication protection
  fetch('reliefweb_jobs.json')
    .then(response => response.json())
    .then(data => {
      const container = document.getElementById('dynamic-jobs');
      container.innerHTML = '';

      data.slice(0, 6).forEach((job, index) => {
        const card = document.createElement('div');
        card.className = 'job-card bg-white rounded-xl shadow overflow-hidden border border-gray-100 p-6 flex flex-col justify-between';
        const jobId = `job_${index}_${job["Job Title"]?.replace(/\s+/g, '_')}`;

        card.innerHTML = `
          <div>
            <div class="flex items-start justify-between mb-2">
              <h3 class="text-xl font-bold text-gray-800 flex-1">${job["Job Title"]}</h3>
              <button class="favorite-btn ml-2 p-2 rounded-full hover:bg-gray-100 transition-colors" 
                      data-job-id="${jobId}" 
                      onclick="requireAuth() && toggleFavorite('${jobId}', ${JSON.stringify(job).replace(/"/g, '&quot;')})"
                      title="إضافة للمفضلة">
                <i class="far fa-heart text-gray-400"></i>
              </button>
            </div>
            <p class="text-gray-600 text-sm mb-2"><strong>المنظمة:</strong> ${job["Company"] || "غير مذكورة"}</p>
            <p class="text-gray-600 text-sm mb-2"><strong>الموقع:</strong> ${job["Location"] || "غير مذكور"}</p>
            ${job["Description"] ? `<p class="text-gray-700 text-sm mb-3 line-clamp-3">${job["Description"]}</p>` : ''}
            <div class="flex items-center justify-between text-sm text-gray-500 mt-2">
              <span><i class="far fa-calendar-alt mr-1"></i> <strong>تاريخ النشر:</strong> ${job["Date"] || "غير مذكور"}</span>
              <span><i class="far fa-clock mr-1"></i> <strong>الموعد النهائي:</strong> ${job["Deadline"] || "غير مذكور"}</span>
            </div>
          </div>
          <div class="mt-4 text-left">
            <button class="job-details-btn inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm" data-link="${job["Link"]}">
              عرض التفاصيل
            </button>
          </div>
        `;

        container.appendChild(card);
      });

      // Add click event listeners to job detail buttons
      document.querySelectorAll('.job-details-btn').forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.preventDefault();
          if (requireAuth()) {
            window.open(this.dataset.link, '_blank');
          }
        });
      });
      
      // Update favorite buttons state
      updateFavoriteButtons();
    });

  // Search and filter functionality
  let allJobsData = [];
  let currentFilter = '';
  
  // Load jobs data for search and filter
  fetch('reliefweb_jobs.json')
    .then(response => response.json())
    .then(data => {
      allJobsData = data;
    });

  // Search functionality
  const searchInput = document.getElementById('mainSearchInput');
  const searchBtn = document.getElementById('searchBtn');
  
  function performSearch(query = '') {
    const filteredJobs = allJobsData.filter(job => {
      const searchText = query.toLowerCase();
      const jobText = `${job["Job Title"]} ${job["Company"]} ${job["Location"]} ${job["Description"]}`.toLowerCase();
      
      let matchesSearch = !query || jobText.includes(searchText);
      let matchesCategory = !currentFilter || jobText.includes(currentFilter.toLowerCase());
      
      return matchesSearch && matchesCategory;
    });
    
    displayFilteredJobs(filteredJobs);
  }
  
  function displayFilteredJobs(jobs) {
    const container = document.getElementById('dynamic-jobs');
    container.innerHTML = '';
    
    if (jobs.length === 0) {
      container.innerHTML = `
        <div class="col-span-full text-center py-12">
          <i class="fas fa-search text-gray-300 text-6xl mb-4"></i>
          <h3 class="text-xl font-semibold text-gray-600 mb-2">لا توجد نتائج</h3>
          <p class="text-gray-500">جرب البحث بكلمات مختلفة أو اختر تصنيف آخر</p>
        </div>
      `;
      return;
    }
    
    jobs.slice(0, 6).forEach((job, index) => {
      const card = document.createElement('div');
      card.className = 'job-card bg-white rounded-xl shadow overflow-hidden border border-gray-100 p-6 flex flex-col justify-between';
      const jobId = `filtered_job_${index}_${job["Job Title"]?.replace(/\s+/g, '_')}`;

      card.innerHTML = `
        <div>
          <div class="flex items-start justify-between mb-2">
            <h3 class="text-xl font-bold text-gray-800 flex-1">${job["Job Title"]}</h3>
            <button class="favorite-btn ml-2 p-2 rounded-full hover:bg-gray-100 transition-colors" 
                    data-job-id="${jobId}" 
                    onclick="requireAuth() && toggleFavorite('${jobId}', ${JSON.stringify(job).replace(/"/g, '&quot;')})"
                    title="إضافة للمفضلة">
              <i class="far fa-heart text-gray-400"></i>
            </button>
          </div>
          <p class="text-gray-600 text-sm mb-2"><strong>المنظمة:</strong> ${job["Company"] || "غير مذكورة"}</p>
          <p class="text-gray-600 text-sm mb-2"><strong>الموقع:</strong> ${job["Location"] || "غير مذكور"}</p>
          ${job["Description"] ? `<p class="text-gray-700 text-sm mb-3 line-clamp-3">${job["Description"]}</p>` : ''}
          <div class="flex items-center justify-between text-sm text-gray-500 mt-2">
            <span><i class="far fa-calendar-alt mr-1"></i> <strong>تاريخ النشر:</strong> ${job["Date"] || "غير مذكور"}</span>
            <span><i class="far fa-clock mr-1"></i> <strong>الموعد النهائي:</strong> ${job["Deadline"] || "غير مذكور"}</span>
          </div>
        </div>
        <div class="mt-4 text-left">
          <button class="job-details-btn inline-block bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm" data-link="${job["Link"]}">
            عرض التفاصيل
          </button>
        </div>
      `;

      container.appendChild(card);
    });
    
    // Re-attach event listeners
    document.querySelectorAll('.job-details-btn').forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        if (requireAuth()) {
          window.open(this.dataset.link, '_blank');
        }
      });
    });
    
    updateFavoriteButtons();
  }
  
  // Search input event listeners
  if (searchInput) {
    searchInput.addEventListener('input', (e) => {
      performSearch(e.target.value);
    });
    
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        performSearch(e.target.value);
      }
    });
  }
  
  if (searchBtn) {
    searchBtn.addEventListener('click', () => {
      performSearch(searchInput.value);
    });
  }
  
  // Category filter functionality
  document.querySelectorAll('.category-card[data-category]').forEach(card => {
    card.addEventListener('click', function() {
      const category = this.dataset.category;
      
      // Remove active state from all cards
      document.querySelectorAll('.category-card').forEach(c => {
        c.classList.remove('ring-2', 'ring-blue-500', 'bg-blue-50');
      });
      
      // Toggle filter
      if (currentFilter === category) {
        currentFilter = '';
        performSearch(searchInput?.value || '');
      } else {
        currentFilter = category;
        this.classList.add('ring-2', 'ring-blue-500', 'bg-blue-50');
        performSearch(searchInput?.value || '');
      }
    });
  });
  
  // More categories toggle
  const moreBtn = document.getElementById('moreCategories');
  const additionalCategories = document.querySelectorAll('.additional-category');
  let categoriesExpanded = false;
  
  if (moreBtn) {
    moreBtn.addEventListener('click', function() {
      categoriesExpanded = !categoriesExpanded;
      
      additionalCategories.forEach(cat => {
        if (categoriesExpanded) {
          cat.classList.remove('hidden');
        } else {
          cat.classList.add('hidden');
        }
      });
      
      // Update button text and icon
      const icon = this.querySelector('i');
      const text = this.querySelector('h4');
      
      if (categoriesExpanded) {
        icon.className = 'fas fa-times text-xl';
        text.textContent = 'أقل';
      } else {
        icon.className = 'fas fa-ellipsis-h text-xl';
        text.textContent = 'المزيد';
      }
    });
  }
</script>


</body>
</html>

